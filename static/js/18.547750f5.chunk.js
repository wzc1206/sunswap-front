(this["webpackJsonpswap-front"]=this["webpackJsonpswap-front"]||[]).push([[18],{1045:function(e,t,a){"use strict";var n=a(6),o=a(7),r=a(10),s=a(11),i=a(1),c=a.n(i),l=a(170),p=a(29),u=a.n(p),m=a(859),d=a(8),k=(a(1149),function(e){Object(r.a)(a,e);var t=Object(s.a)(a);function a(e){var o;return Object(n.a)(this,a),(o=t.call(this,e)).confirm=function(){o.props.confirm&&o.props.confirm()},o.cancel=function(){o.props.cancel&&o.props.cancel()},o.state={},o}return Object(o.a)(a,[{key:"render",value:function(){var e=Object(l.a)(window.navigator).any?0:64;return c.a.createElement(m.a,{footer:null,title:null,closable:!0,maskClosable:!1,visible:this.props.visible,className:"unfinished-pop",onCancel:this.cancel,style:{marginLeft:Object(d.t)()+e},width:430,centered:!0},c.a.createElement("div",{className:"title"},u.a.get("action.popTitle"),c.a.createElement("p",null,u.a.get("action.popDesc"))),c.a.createElement("div",{className:"btns"},c.a.createElement("button",{onClick:this.confirm},u.a.get("action.popQuitBtn")),c.a.createElement("button",{onClick:this.cancel},u.a.get("action.popCancelBtn"))))}}]),a}(c.a.Component));t.a=k},1046:function(e,t,a){e.exports=a.p+"static/media/TransactionSuccess.294bae05.svg"},1143:function(e,t,a){"use strict";var n=a(6),o=a(7),r=a(10),s=a(11),i=a(1),c=a.n(i),l=a(29),p=a.n(l),u=a(1466),m=a(132),d=(a(1457),c.a.createElement(m.a,{style:{fontSize:24},spin:!0})),k=function(e){Object(r.a)(a,e);var t=Object(s.a)(a);function a(e){var o;return Object(n.a)(this,a),(o=t.call(this,e)).state={},o}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props.children,t=c.a.Children.toArray(e).map((function(e,t){var a=e.props,n=a.children,o=a.status,r=a.err,s=a.failed,i=n;return"error"===o&&(i=r||n),"pending"===o&&(i=p.a.get("action.doingAct")),"failed"===o&&(i=s||n),c.a.createElement("div",{className:"al_item ".concat(o?"".concat(o):""),key:e.key},c.a.createElement("div",{className:"flex"},c.a.createElement("span",{className:"al_number"},t+1),c.a.createElement("span",{className:"al_title".concat(o?" ".concat(o):"")},i)),"pending"===o&&c.a.createElement(u.a,{indicator:d,className:"spiny"}))}));return c.a.createElement("div",{className:"action-line"},t)}}]),a}(c.a.Component);t.a=k},1148:function(e,t,a){},1149:function(e,t,a){},1457:function(e,t,a){},1464:function(e,t,a){"use strict";var n,o=a(6),r=a(7),s=a(10),i=a(11),c=a(1),l=a.n(c),p=a(217),u=a(29),m=a.n(u),d=a(859),k=a(1140),f=a(8),b=a(13),v=Object(p.b)("network")(n=Object(p.c)(n=function(e){Object(s.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).changeCheckStatus=function(e){n.setState({checkStatus:e})},n.comfirmContinue=function(){n.state.checkStatus&&n.props.cb()},n.componentDidMount=function(){},n.state={checkStatus:!1},n}return Object(r.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.visible,n=t.dealWarningSymbol,o=this.state.checkStatus,r=n?b.a.deflationToken[n]:{symbol:"",slippage:""},s=r.symbol,i=r.slippage;return l.a.createElement(d.a,{title:m.a.getHTML("list.deal_warning_title",{value:s}),closable:!1,visible:a,footer:null,style:{marginLeft:Object(f.C)(500)},width:525,className:"list-addtoken-modal deal-warning-modal",centered:!0},l.a.createElement("div",{className:"solor-modal-body"},l.a.createElement("div",{className:"tips"},l.a.createElement("div",{className:"tips1"},m.a.getHTML("list.deal_warning_content_1",{value:s})),l.a.createElement("div",{className:"tips1 yellow"},m.a.getHTML("list.deal_warning_content_2",{value:i})),l.a.createElement("div",{className:"tips1"},m.a.getHTML("list.deal_warning_content_3",{value:s}))),l.a.createElement("div",{className:"check-box"+(o?" checked":"")},l.a.createElement(k.a,{onChange:function(t){return e.changeCheckStatus(t.target.checked)}},m.a.get("list.i_understand"))),l.a.createElement("div",{className:"btns"},l.a.createElement("button",{onClick:this.comfirmContinue,className:o?"button-active":""},m.a.get("list.continue")))))}}]),a}(l.a.Component))||n)||n;t.a=v},1469:function(e,t,a){},1482:function(e,t,a){},1483:function(e,t,a){e.exports=a.p+"static/media/per.840f0e5b.svg"},1484:function(e,t,a){e.exports=a.p+"static/media/arrDown.43062926.svg"},1485:function(e,t,a){e.exports=a.p+"static/media/down.fa8d9071.svg"},1486:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAANCAMAAAB4p3UoAAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAEJQTFRFAAAASFDlSFDlSFDlSFDlSFDlSFDlSFDlSFDlSFDlSFDlSFDlSFDlSFDlSFDlSFDlSFDlSFDlSFDlSFDlSFDlSFDlDTbkywAAABZ0Uk5TAIDuQFf/9AFYP9cvsf78ImriLWQuePVMmBkAAABCSURBVHicY2DADRiZmNFEWFhZMYXYcAmxIwAHKysnAwMXKyrgZuABkrwQABLg40cxSIBVUIhEAWFWVhFU14hyQQQA99wCt/58bxkAAAAASUVORK5CYII="},1495:function(e,t,a){"use strict";var n,o=a(221),r=a(0),s=a.n(r),i=a(65),c=a(17),l=a(2),p=a(6),u=a(7),m=a(10),d=a(11),k=a(1),f=a.n(k),b=a(131),v=a.n(b),g=a(29),h=a.n(g),w=a(170),A=a(217),E=a(1139),T=a(1141),S=a(1474),j=a(859),O=a(13),x=a(8),y=(a(1469),a(267)),N=a(262),_=a.n(N),C=a(414),I=a.n(C),V=a(97),F=a(1464),D=Object(A.b)("pool")(n=Object(A.c)(n=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).componentDidMount=function(){var e=window.localStorage.getItem("solor");if(e){var t=JSON.parse(e);window.localStorage.setItem("solor",JSON.stringify(t)),n.props.pool.setData({solor:t})}},n.onTokenStrChange=function(){var e=Object(l.a)(s.a.mark((function e(t){var a,o,r,l,p,u,m,d,k=arguments;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:k.length>1&&void 0!==k[1]?k[1]:null,a=n.props.pool,o=a.exchanges,void 0===o?{}:o,r=a.allExchanges,void 0===r?{}:r;try{l=n.props.type,p=t.target.value.trim(),u=n.state.tokenSort,n.setState({tokenStr:p}),1===l||2===l?n.props.pool.setData({swapToken:Object(c.a)(Object(c.a)({},n.props.pool.swapToken),{},(m={},Object(i.a)(m,"tokenStr".concat(l),p),Object(i.a)(m,"tokenSort".concat(l),u),m))}):n.props.pool.setData({liqToken:Object(c.a)(Object(c.a)({},n.props.pool.liqToken),{},(d={},Object(i.a)(d,"tokenStr".concat(l),p),Object(i.a)(d,"tokenSort".concat(l),u),d))}),n.props.pool.searchTokenList(l)}catch(s){console.log("onTokenStrChange: ",s)}case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.onChange=function(){var e=Object(l.a)(s.a.mark((function e(t,a){var o,r,i,c,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.stopPropagation(),1!==(o=n.props.type)&&2!==o){e.next=11;break}if(r=n.props.pool.swapToken,i=t.tokenAddress,c=r.fromToken,l=r.toToken,!(1===o&&i===c.tokenAddress||2===o&&i===l.tokenAddress)){e.next=8;break}return e.abrupt("return");case 8:if(1!==o&&2!==o||!Object.keys(O.a.deflationToken).includes(t.tokenAddress)){e.next=11;break}return n.setState({modalVisible:!1,dealWarningVisible:!0,callbacks:n.selectSearchCallback,selectSearchItem:t}),e.abrupt("return");case 11:n.props.onChangeToken(t);case 12:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),n.selectSearchCallback=function(){var e=n.state.selectSearchItem;n.setState({dealWarningVisible:!1}),n.props.onChangeToken(e)},n.hideModal=function(){1===n.state.defaultStatus?n.setState({modalVisible:!1,customTokenUriLeg:!0}):n.hideListModal()},n.clearStorage=function(){var e=O.a.localStorage;for(var t in e)window.localStorage.removeItem(e[t]);window.location.reload()},n.showListModal=function(){n.setState({defaultStatus:2})},n.hideListModal=function(){n.setState({defaultStatus:1})},n.selectTokenList=function(){var e=Object(l.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n.props.pool.selectedListUrl,n.props.pool.setData({selectedListUrl:t}),n.props.pool.setTokensDataIntoLocal(),e.next=6,n.props.pool.setTokenList(n.props.type);case 6:n.setState({defaultStatus:1}),n.props.pool.handleNotifiction(),n.props.pool.setTokensDataIntoLocal(),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),n.backTokensCategory=function(){n.setState({changeStatus:1})},n.onTokenUriChange=function(e){try{var t=e.target.value;n.setState({customTokenUri:t.trim(),errInfo:""})}catch(a){console.log(a)}},n.checkUrl=function(e){return e||(h.a.get("list.err1"),Object(o.a)("errInfo")),""},n.isListsOver=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).length>=O.a.maxLists},n.addCustomTokens=Object(l.a)(s.a.mark((function e(){var t,a,o,r,i,l,p,u,m,d,k;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=n.state.customTokenUri,a="",Object(x.B)(t)){e.next=7;break}return a=h.a.get("list.add_failed_tip"),n.setState({errInfo:a}),e.abrupt("return");case 7:if(o=n.props.pool.byUrl,!(r=void 0===o?{}:o)[t]||r[t].rs){e.next=12;break}return a=h.a.get("list.exists"),n.setState({errInfo:a}),e.abrupt("return");case 12:if(!n.isListsOver(r)){e.next=16;break}return a=h.a.getHTML("list.lists_over",{value:O.a.maxLists}),n.setState({errInfo:a}),e.abrupt("return");case 16:return e.next=18,V.a.getTokenListJson(t);case 18:if(i=e.sent,l=i.tokens,!((void 0===l?[]:l).length>O.a.maxTokens)){e.next=24;break}return a=h.a.getHTML("list.tokens_over",{value:O.a.maxTokens}),n.setState({errInfo:a}),e.abrupt("return");case 24:if(p=Object(x.Q)(i),u=p.key,m=void 0===u?"":u,d=p.valid,void 0!==d&&d){e.next=29;break}return a=h.a.get("list.add_err_tip",{value:m}),n.setState({errInfo:a}),e.abrupt("return");case 29:return n.props.pool.updateTokensData(t,Object(c.a)(Object(c.a)({},i),{},{uri:t,rs:0})),e.next=32,n.props.pool.setTokenList(n.props.type);case 32:n.setState({defaultStatus:1}),e.next=40;break;case 35:e.prev=35,e.t0=e.catch(0),k=h.a.get("list.add_failed_retry"),n.setState({errInfo:k}),console.log(e.t0);case 40:case"end":return e.stop()}}),e,null,[[0,35]])}))),n.updateList=function(){var e=Object(l.a)(s.a.mark((function e(t){var a,o,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.uri,o=n.props.pool.byUrlNew,r=(void 0===o?{}:o)[a],Object(x.i)(r,Object(l.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.props.pool.updateByUrl(r);case 2:n.setState({});case 3:case"end":return e.stop()}}),e)}))));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.hideRemoveModal=function(){n.setState({removeId:"",removeModalVisible:!1,removeText:""})},n.showRemoveModal=function(e){try{n.setState({removeId:e.uri,removeModalVisible:!0})}catch(t){console.log(t)}},n.removeTokens=function(){try{var e=n.state,t=e.removeId,a=e.removeText;if(!t)return;if("REMOVE"!=a.trim())return;var o=n.props.pool.byUrl,r=(void 0===o?{}:o)[t],s=r.cst,i=void 0!==s&&s,c=r.uri,l=void 0===c?"":c;i?n.props.pool.deleteByUrlById(l):(r.rs=1,n.props.pool.updateByUrl(r)),n.hideRemoveModal()}catch(p){console.log(p)}},n.inputRemoveText=function(e){var t=e.target.value;n.setState({removeText:t})},n.addSolor=function(){var e=Object(l.a)(s.a.mark((function e(t){var a,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,a=n.props.pool.solor,o=void 0===a?[]:a,!(v.a.findIndex(o,(function(e){return e.tokenAddress===t.tokenAddress}))>=0)){e.next=5;break}return e.abrupt("return");case 5:return o.unshift(Object(c.a)(Object(c.a)({},t),{},{cst:2})),n.props.pool.setData({solor:o}),e.next=9,n.props.pool.setTokenList(n.props.type);case 9:window.localStorage.setItem("solor",JSON.stringify(o)),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}(),n.removeSolor=function(){var e=Object(l.a)(s.a.mark((function e(t){var a,o,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=n.props.pool.solor,o=void 0===a?[]:a,r=t.tokenAddress,v.a.remove(o,(function(e){return e.tokenAddress===r})),n.props.pool.setData({solor:o}),e.next=7,n.props.pool.setTokenList(n.props.type);case 7:window.localStorage.setItem("solor",JSON.stringify(o)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),n.getKeys=function(e){try{return Object.keys(e).sort((function(t,a){return e[t].name>e[a].name?1:-1}))}catch(t){return[]}},n.tokenSortByAsCII=function(e){try{var t=n.state.tokenList;if(e=!e){var a=t.sort((function(e,t){var a=e.tokenSymbol.toLowerCase(),n=t.tokenSymbol.toLowerCase();return a<n?-1:a>n?1:0})),o=v.a.findIndex(a,(function(e){return e.tokenAddress===O.a.trxFakeAddress}));if(o>=0){var r=a.splice(o,1);a.unshift(r[0])}n.setState({tokenList:a})}else n.props.pool.setTokenList(n.props.type);n.setState({tokenSort:e})}catch(s){console.log(s)}},n.confirmContinue=Object(l.a)(s.a.mark((function e(){var t,a,o,r,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=n.state.checkStatus,a=n.props.pool,o=a.tokenBrief,r=a.tokenBriefAnother,i=Object(x.v)("type"),t){e.next=6;break}return e.abrupt("return");case 6:if(!(Object.keys(o).length>0)){e.next=9;break}return e.next=9,n.addSolor(o);case 9:if(!(Object.keys(r).length>0)){e.next=12;break}return e.next=12,n.addSolor(r);case 12:n.props.pool.setData({solorModalVisible:!1}),Object.keys(o).length>0&&n.props.onChangeToken&&n.props.onChangeToken(o,"swap"===i?1:3),Object.keys(r).length>0&&n.props.onChangeToken&&n.props.onChangeToken(r,"swap"===i?2:4),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(0),console.log(e.t0),n.props.pool.setData({solorModalVisible:!1});case 21:case"end":return e.stop()}}),e,null,[[0,17]])}))),n.changeCheckStatus=function(e){n.setState({checkStatus:e.target.checked})},n.getClassName=function(e,t){try{var a=n.props.type,o=e.tokenAddress,r=1===a||2===a?n.props.pool.swapToken:n.props.pool.liqToken,s=r.fromToken,i=r.toToken;if(o===s.tokenAddress||o===i.tokenAddress||t)return"opac"}catch(c){return""}},n.outInputCheck=function(e){try{var t=n.props.type,a=e.tokenAddress,o=1===t||2===t?n.props.pool.swapToken:n.props.pool.liqToken,r=o.fromToken,s=o.toToken;if(a===r.tokenAddress)return" (".concat(h.a.get("tokens.selected_as_input"),")");if(a===s.tokenAddress)return" (".concat(h.a.get("tokens.selected_as_output"),")")}catch(i){return""}},n.renderSelectedList=function(e,t){var a=n.state.tokenSort,o=n.props.pool,r=o.swapToken,s=o.liqToken,i=(s.fromToken,s.toToken,[]),c=[],l={},p=n.props.type,u="";return 1!==p&&2!==p||(i=r.tokenList,c=r.allTokenList,l=r.tokenMap,u=r["tokenStr".concat(p)]),3!==n.props.type&&4!==n.props.type||(i=s.tokenList,c=s.allTokenList,l=s.tokenMap,u=s["tokenStr".concat(p)]),e&&t&&e[t]?f.a.createElement(f.a.Fragment,null,f.a.createElement("input",{className:"select-search",type:"text",placeholder:h.a.get("tokens.select_placeholder_text"),value:u,onChange:n.onTokenStrChange}),f.a.createElement("div",{className:"title flexB"},f.a.createElement("span",{className:"text"},h.a.get("tokens.select_tokenName_title")),f.a.createElement("span",{className:"sort "+(a?"active":""),onClick:function(){return n.tokenSortByAsCII(a)}})),f.a.createElement("div",{className:"itemList"},0===c.length?f.a.createElement("div",{className:"no-token-fund"},h.a.get("tokens.loading_tokens")):i.length?i.map((function(e,t){var a=l[e],o=e===O.a.wtrxAddress&&(3===n.props.type||4===n.props.type);return a&&!o?f.a.createElement("div",{className:"flex item ".concat(n.getClassName(a)),key:a.tokenAddress+t,onClick:function(e){return n.onChange(a,e)}},f.a.createElement("div",{className:"a-center"},f.a.createElement("img",{src:a.tokenLogoUrl,alt:"",onError:function(e){e.target.onerror=null,e.target.src=_.a}}),f.a.createElement("div",{className:"searchRes left"},f.a.createElement("span",{className:"item-content"},a.tokenSymbol,n.outInputCheck(a)),1===a.cst&&f.a.createElement("div",{className:"item-content solor-detail"},f.a.createElement("span",null,h.a.get("list.search_by_addr")),f.a.createElement("span",{className:"ib",onClick:function(e){e.stopPropagation(),n.addSolor(a)}},"(",h.a.get("list.add"),")")),2===a.cst&&f.a.createElement("div",{className:"item-content solor-detail"},f.a.createElement("span",null,h.a.get("list.add_by_user")),f.a.createElement("span",{className:"solor-remove ib",onClick:function(e){e.stopPropagation(),n.removeSolor(a)}},"(",h.a.get("list.remove_token"),")")))),a.tokenAddress===O.a.trxFakeAddress?f.a.createElement("div",null,f.a.createElement("p",null,Object(x.o)(l[a.tokenAddress]?l[a.tokenAddress].balance:a.balance))):f.a.createElement("div",{className:"inline-flex balanceAndAddr"},f.a.createElement("p",null,l[a.tokenAddress]&&!isNaN(l[a.tokenAddress].balance)?Object(x.o)(l[a.tokenAddress].balance):"--"),f.a.createElement("p",null,Object(w.a)(window.navigator).any?Object(x.l)(a.tokenAddress,4,4):Object(x.l)(a.tokenAddress,8,10)))):f.a.createElement(f.a.Fragment,null)})):f.a.createElement("div",{className:"no-token-fund"},h.a.getHTML("list.no_token_found"))),f.a.createElement("div",{className:"list-switch flexB"},f.a.createElement("div",{className:"list-switch-name"},f.a.createElement("img",{src:e[t].logoURI,alt:""}),f.a.createElement("span",null,e[t].name||"")),f.a.createElement("button",{className:"list-switch-btn",onClick:function(){return n.showListModal()}},h.a.get("list.switch")))):f.a.createElement(f.a.Fragment,null)},n.renderUpdateListItem=function(e){var t=n.props.pool.byUrlNew,a=void 0===t?{}:t,o=e.version,r=void 0===o?{}:o,s=a[e.uri]||{},i=s.version||{};console.log(r,i);var c=Object(x.h)(r,i),l=Object(x.g)(e,s).success,p=void 0!==l&&l;return!v.a.isEqual(s,{})&&c&&p&&f.a.createElement(E.a.Item,{onClick:function(){n.updateList(e)}},h.a.get("list.update"))},n.adjustAndroid=function(e){var t=Object(x.e)(e);n.setState({adjust:t})},n.renderTokensCategory=function(){var e=n.state,t=e.customTokenUri,a=e.lang,o=e.errInfo,r=n.props.pool,s=r.byUrl,i=r.selectedListUrl,c=n.getKeys(s);return f.a.createElement(f.a.Fragment,null,f.a.createElement("ul",{className:"list-list"},s&&c.length&&c.map((function(e){var t=s[e];return!t.rs&&f.a.createElement("li",{key:t.name+"_"+e,className:"flex"},f.a.createElement("div",{className:"drop-parent flexB w-80"},f.a.createElement("div",{className:"left flex"},f.a.createElement("img",{src:t.logoURI,alt:"",className:"logo"}),f.a.createElement("div",null,f.a.createElement("div",{className:"name"},t.name),f.a.createElement("div",{className:"source"},Object(x.r)(t.uri)))),f.a.createElement(T.a,{trigger:"click",placement:"bottomRight",overlay:f.a.createElement(E.a,null,f.a.createElement(E.a.ItemGroup,{title:f.a.createElement("div",null,f.a.createElement("span",{className:"key"},h.a.get("list.version")),f.a.createElement("span",{className:"value"},Object(x.z)(t.version)))},f.a.createElement(E.a.Item,null," ",f.a.createElement("a",{href:"".concat(O.a.justList,"?lang=").concat(a,"#/detail?uri=").concat(t.uri),target:t.uri||"_blank"},h.a.get("list.view"))),n.renderUpdateListItem(t),t.uri!==i&&f.a.createElement(E.a.Item,{onClick:function(){n.showRemoveModal(t)}},h.a.get("list.remove"))))},f.a.createElement("a",{className:"ant-dropdown-link",onClick:function(e){return e.preventDefault()}}))),f.a.createElement("div",{className:"right"},f.a.createElement("button",{className:String(i)===String(t.uri)?"selected":"",onClick:function(){return n.selectTokenList(e)}},String(i)===String(t.uri)?h.a.get("list.selected"):h.a.get("list.select"))))})),f.a.createElement("div",{className:"list-more"},f.a.createElement("a",{href:"en-US"===a?O.a.moreList.en:O.a.moreList.zh,target:"_blank"},h.a.get("more.more")))),f.a.createElement("div",{className:"list-add"},f.a.createElement("div",{className:"list-input-line flex"},f.a.createElement(S.a,{type:"text",className:"list-input w-80",placeholder:"https://",value:t,onChange:n.onTokenUriChange,onFocus:function(){return n.adjustAndroid(!0)},onBlur:function(){return n.adjustAndroid(!1)}}),f.a.createElement("div",{className:"right"},f.a.createElement("button",{onClick:n.addCustomTokens,disabled:!t.trim()},h.a.get("list.add_list"))))),!!o&&f.a.createElement("div",{className:"list-add-errTip"},f.a.createElement("span",{className:"icon"},"!"),f.a.createElement("span",{className:"text"},o)),f.a.createElement("div",{className:"list-footer"},f.a.createElement("a",{href:"".concat(O.a.justList,"?lang=").concat(a,"#/home"),className:"link",target:"justList"},h.a.get("list.view_list_home"))))},n.hideSolorModal=function(){n.props.pool.setData({solorModalVisible:!1})},n.state={lang:window.localStorage.getItem("lang")||h.a.options.currentLocale,tokenStr:"",defaultStatus:1,removeModalVisible:!1,removeText:"",removeId:"",solor:JSON.parse(window.localStorage.getItem("solor")||"[]"),customTokenUri:"",customTokenUriLeg:!0,errInfo:"",tokenSort:!1,checkStatus:!1,dealWarningVisible:!1,selectSearchItem:""},n}return Object(u.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.defaultStatus,n=t.removeText,o=t.removeModalVisible,r=t.adjust,s=t.dealWarningVisible,i=t.callbacks,c=t.selectSearchItem,l=this.props.pool,p=l.byUrl,u=l.selectedListUrl;return f.a.createElement(f.a.Fragment,null,f.a.createElement(j.a,{title:1===a?f.a.createElement(y.a,{tip:h.a.get("tokens.add_choose_select_tip"),toolClass:"select-ib left"},f.a.createElement("span",{className:"add-title"},h.a.get("tokens.add_choose_select"))):f.a.createElement("div",{className:"list-modal-header"},f.a.createElement("img",{src:I.a,alt:"",onClick:function(){return e.hideListModal()}}),f.a.createElement("span",{className:"add-title"},h.a.get("list.select_list"))),closable:!0,visible:this.props.modalVisible,onCancel:this.props.onCancel,className:"select-modal "+(1===a?"":"list-modal "+(r?"adjust":"")),footer:null,style:{marginLeft:Object(x.t)()},width:630,centered:!0},f.a.createElement(f.a.Fragment,null,1===a?this.renderSelectedList(p,u):this.renderTokensCategory())),f.a.createElement(j.a,{title:"",closable:!1,visible:o,footer:null,style:{marginLeft:Object(x.C)()},width:420,className:"list-remove-modal"},f.a.createElement("div",{className:"title"},h.a.get("list.remove_confirm")),f.a.createElement("div",{className:"tips"},h.a.get("list.remove_confirm_tip")),f.a.createElement("input",{type:"text",className:"list-input w-80",value:n,onChange:this.inputRemoveText}),f.a.createElement("div",{className:"btns"},f.a.createElement("button",{onClick:this.removeTokens,disabled:"REMOVE"!==n.trim()},h.a.get("list.confirm")),f.a.createElement("button",{onClick:this.hideRemoveModal},h.a.get("list.cancel")))),s&&f.a.createElement(F.a,{visible:s,cb:i,dealWarningSymbol:c.tokenAddress}))}}]),a}(f.a.Component))||n)||n;t.a=D},1496:function(e,t,a){"use strict";var n=a(6),o=a(7),r=a(10),s=a(11),i=a(1),c=a.n(i),l=a(29),p=a.n(l),u=a(262),m=a.n(u),d=function(e){Object(r.a)(a,e);var t=Object(s.a)(a);function a(e){return Object(n.a)(this,a),t.call(this,e)}return Object(o.a)(a,[{key:"render",value:function(){var e=this,t=this.props.token,a=void 0===t?{}:t;return c.a.createElement("p",{className:"dragDown "+(this.props.disabled?"no-bg":""),onClick:function(){return e.props.showModal()}},a.tokenAddress?c.a.createElement(c.a.Fragment,null,c.a.createElement("img",{src:a.tokenLogoUrl||m.a,alt:"",onError:function(e){e.target.onerror=null,e.target.src=m.a}}),c.a.createElement("span",null,a.tokenSymbol)):c.a.createElement(c.a.Fragment,null,p.a.get("tokens.add_choose_select")," "))}}]),a}(c.a.Component);t.a=d},1511:function(e,t,a){e.exports=a.p+"static/media/trans-route.8eeb3408.svg"},1512:function(e,t,a){e.exports=a.p+"static/media/trans-route-white.d48ff00a.svg"},1523:function(e,t,a){"use strict";var n,o=a(30),r=a(17),s=a(0),i=a.n(s),c=a(2),l=a(6),p=a(7),u=a(10),m=a(11),d=a(1),k=a.n(d),f=a(170),b=a(217),v=a(29),g=a.n(v),h=a(1526),w=a(269),A=a(859),E=a(1496),T=a(267),S=a(1495),j=a(967),O=a(1143),x=a(1045),y=a(13),N=a(8),C=a(276),I=a.n(C),V=a(131),F=a.n(V),D=a(62),L=function(){function e(t,a,n){Object(l.a)(this,e),I()(t.length>0,"PAIRS"),I()(t[0].t0.tokenAddress===a.tokenAddress||t[0].t1.tokenAddress===a.tokenAddress,"INPUT"),I()("undefined"===typeof n||t[t.length-1].t0.tokenAddress===n.tokenAddress||t[t.length-1].t1.tokenAddress===n.tokenAddress,"OUTPUT");var o=[a];t.map((function(e,t){var a=o[t];I()(a.tokenAddress===e.t0.tokenAddress||a===e.t1.tokenAddress,"PATH");var n=a.tokenAddress===e.t0.tokenAddress?e.t1:e.t0;o.push(n)})),this.pairs=t,this.path=o,this.input=a,this.output=n,this.midPrice=this.getMidPrice()}return Object(p.a)(e,[{key:"getMidPrice",value:function(){var e=[];return this.pairs.map((function(t){e.push(R(t))})),e.reduce((function(e,t){return Object(N.a)(e).times(t.reservePrice)}),1)}}]),e}(),R=function(e){return{pair:e,reservePrice:Object(N.a)(e.r0).div(e.r1)}},M=a(282),P=1,B=2,U=Object(N.a)(.005),H=function(e,t){var a=e.r0,n=e.r1;if(!Object(N.a)(a).gt(0)||!Object(N.a)(n).gt(0))return{value:Object(N.a)(0)};var o=Object(N.a)(t).times(997),r=o.times(n),s=a.times(1e3).plus(o);return{numerator:r,denominator:s,value:r.div(s)}},q=function(e,t){var a=e.r0,n=e.r1;if(!Object(N.a)(a).gt(0)||!Object(N.a)(n).gt(0))return{value:Object(N.a)(0)};var o=Object(N.a)(a).times(t).times(1e3),r=Object(N.a)(n).minus(t).times(997);return r.eq(0)?{value:Object(N.a)(0)}:{numerator:o,denominator:r,value:o.div(r).plus(1)}},X=function(e,t,a,n){if(I()(a>0,"MAX_SIZE_ZERO"),I()(e.length<=a,"ITEMS_SIZE"),0===e.length)return e.push(t),null;var o=e.length===a;if(o&&n(e[e.length-1],t)<=0)return t;for(var r=0,s=e.length;r<s;){var i=r+s>>>1;n(e[i],t)<=0?r=i+1:s=i}return e.splice(r,0,t),o?e.pop():null},Z=function(e,t){var a=function(e,t){return e.outputAmount.outputAmount.eq(t.outputAmount.outputAmount)?e.inputAmount.inputAmount.eq(t.inputAmount.inputAmount)?0:e.inputAmount.inputAmount.lt(t.inputAmount.inputAmount)?-1:1:e.outputAmount.outputAmount.lt(t.outputAmount.outputAmount)?1:-1}(e,t);return 0!==a?a:e.priceImpact.lt(t.priceImpact)?-1:e.priceImpact.gt(t.priceImpact)?1:e.route.path.length-t.route.path.length},W=function(){var e=Object(c.a)(i.a.mark((function e(t,a,n){var s,c,l,p,u,m,d,k,f,b,v,g,h,w,A,E,T,S,j=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s=j.length>3&&void 0!==j[3]?j[3]:{},c=s.maxNumResults,l=void 0===c?3:c,p=s.maxHops,u=void 0===p?3:p,m=j.length>4&&void 0!==j[4]?j[4]:[],d=j.length>5&&void 0!==j[5]?j[5]:Object(r.a)({},a),k=j.length>6&&void 0!==j[6]?j[6]:[],I()(t.length>0,"PAIRS"),I()(u>0,"MAX_HOPS"),I()(a.tokenAddress===d.tokenAddress||m.length>0,"INVALID_RECURSION"),f=Object(r.a)({},d),b=Object(r.a)({},n),v=0;case 10:if(!(v<t.length)){e.next=50;break}if((g=t[v]).t0.tokenAddress===f.tokenAddress||g.t1.tokenAddress===f.tokenAddress){e.next=14;break}return e.abrupt("continue",47);case 14:if(g.t1.tokenAddress===f.tokenAddress?(h=null,w=null,h=F.a.cloneDeep(g.t0),g.t0=F.a.cloneDeep(g.t1),g.t1=Object(r.a)({},h),w=g.r0,g.r0=g.r1,g.r1=w):g.t0.tokenAddress===f.tokenAddress&&(g.t0=Object(r.a)(Object(r.a)({},g.t0),f)),g.r0&&g.r1){e.next=21;break}return e.next=18,Object(D.q)(g.t0.tokenAddress,g.t1.tokenAddress,g.pairAddress||Object(N.j)(g.t0.tokenAddress,g.t1.tokenAddress));case 18:A=e.sent,g.r0=A.reserveA,g.r1=A.reserveB;case 21:if(g.r0.gt(0)&&g.r1.gt(0)){e.next=23;break}return e.abrupt("continue",47);case 23:if(E=void 0,T=null,e.prev=25,g.t0.value=f.value,T=H(g,f.value),!Object(N.a)(T.value._toFixedNew(Number(g.t1.tokenDecimal),1)).lte(0)){e.next=30;break}return e.abrupt("continue",47);case 30:E=Object(r.a)(Object(r.a)({},g.t1),{},{value:T.value}),g.t1.value=T.value,g.numerator=T.numerator,g.denominator=T.denominator,e.next=39;break;case 36:throw e.prev=36,e.t0=e.catch(25),e.t0;case 39:if(E.tokenAddress!==b.tokenAddress){e.next=43;break}X(k,new z(new L([].concat(Object(o.a)(m),[Object(r.a)({},g)]),a,n),a,P),l,Z),e.next=47;break;case 43:if(!(u>1&&t.length>1)){e.next=47;break}return S=t.slice(0,v).concat(t.slice(v+1,t.length)),e.next=47,W(S,a,n,{maxNumResults:l,maxHops:u-1},[].concat(Object(o.a)(m),[Object(r.a)({},g)]),E,k);case 47:v++,e.next=10;break;case 50:return e.abrupt("return",k);case 51:case"end":return e.stop()}}),e,null,[[25,36]])})));return function(t,a,n){return e.apply(this,arguments)}}(),J=function(){var e=Object(c.a)(i.a.mark((function e(t,a,n,s){var c,l,p,u,m,d,k,f,b,v,g,h,w,A,E,T,S,j=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=s.maxNumResults,l=void 0===c?3:c,p=s.maxHops,u=void 0===p?3:p,m=j.length>4&&void 0!==j[4]?j[4]:[],d=j.length>5&&void 0!==j[5]?j[5]:n,k=j.length>6&&void 0!==j[6]?j[6]:[],I()(t.length>0,"PAIRS"),I()(u>0,"MAX_HOPS"),I()(n.tokenAddress===d.tokenAddress||m.length>0,"INVALID_RECURSION"),f=Object(r.a)({},d),b=Object(r.a)({},a),v=0;case 10:if(!(v<t.length)){e.next=51;break}if((g=t[v]).t0.tokenAddress===f.tokenAddress||g.t1.tokenAddress===f.tokenAddress){e.next=14;break}return e.abrupt("continue",48);case 14:if(g.t0.tokenAddress===f.tokenAddress?(h=null,w=null,h=F.a.cloneDeep(g.t0),g.t0=F.a.cloneDeep(g.t1),g.t1=Object(r.a)({},h),w=g.r0,g.r0=g.r1,g.r1=w):g.t1.tokenAddress===f.tokenAddress&&(g.t1=Object(r.a)(Object(r.a)({},g.t1),f)),g.r0&&g.r1){e.next=21;break}return e.next=18,Object(D.q)(g.t0.tokenAddress,g.t1.tokenAddress,g.pairAddress||Object(N.j)(g.t0.tokenAddress,g.t1.tokenAddress));case 18:A=e.sent,g.r0=A.reserveA,g.r1=A.reserveB;case 21:if(g.r0.gt(0)&&g.r1.gt(0)){e.next=23;break}return e.abrupt("continue",48);case 23:if(E=void 0,T=null,e.prev=25,g.t1.value=f.value,T=q(g,f.value),!Object(N.a)(T.value._toFixedNew(Number(g.t0.tokenDecimal),1)).lte(0)){e.next=31;break}return console.log("input too low"),e.abrupt("continue",48);case 31:E=Object(r.a)(Object(r.a)({},g.t0),{},{value:T.value}),g.t0.value=T.value,g.numerator=T.numerator,g.denominator=T.denominator,e.next=40;break;case 37:throw e.prev=37,e.t0=e.catch(25),e.t0;case 40:if(E.tokenAddress!==b.tokenAddress){e.next=44;break}X(k,new z(new L([Object(r.a)({},g)].concat(Object(o.a)(m)),a,n),n,B),l,Z),e.next=48;break;case 44:if(!(u>1&&t.length>1)){e.next=48;break}return S=t.slice(0,v).concat(t.slice(v+1,t.length)),e.next=48,J(S,a,n,{maxNumResults:l,maxHops:u-1},[g].concat(Object(o.a)(m)),E,k);case 48:v++,e.next=10;break;case 51:return e.abrupt("return",k);case 52:case"end":return e.stop()}}),e,null,[[25,37]])})));return function(t,a,n,o){return e.apply(this,arguments)}}(),Q=function(){var e=Object(c.a)(i.a.mark((function e(t,a,n,o,s){var c,l,p,u,m,d,k,f,b,v,g,h,w,A,E,T,S=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=S.length>5&&void 0!==S[5]?S[5]:{},l=c.maxHops,p=void 0===l?y.a.MAX_HOPS:l,!(Object(N.a)(t).gt(0)&&a.tokenAddress&&n.tokenAddress&&o.length>0)){e.next=72;break}if(1!==p){e.next=33;break}if(u={maxHops:1,maxNumResults:1},s!==P){e.next=20;break}return d=Object(r.a)({value:Object(N.a)(t)},a),e.next=8,W(o,d,n,u);case 8:if(e.t1=m=e.sent[0],e.t0=null!==e.t1,!e.t0){e.next=12;break}e.t0=void 0!==m;case 12:if(!e.t0){e.next=16;break}e.t2=m,e.next=17;break;case 16:e.t2=null;case 17:return e.abrupt("return",e.t2);case 20:return f=Object(r.a)({value:Object(N.a)(t)},n),e.next=23,J(o,a,f,u);case 23:if(e.t4=k=e.sent[0],e.t3=null!==e.t4,!e.t3){e.next=27;break}e.t3=void 0!==k;case 27:if(!e.t3){e.next=31;break}e.t5=k,e.next=32;break;case 31:e.t5=null;case 32:return e.abrupt("return",e.t5);case 33:b=null,v=1;case 35:if(!(v<=p)){e.next=71;break}if(g={maxHops:v,maxNumResults:1},h=null,s!==P){e.next=54;break}return A=Object(r.a)({value:Object(N.a)(t)},a),e.next=42,W(o,A,n,g);case 42:if(e.t7=w=e.sent[0],e.t6=null!==e.t7,!e.t6){e.next=46;break}e.t6=void 0!==w;case 46:if(!e.t6){e.next=50;break}e.t8=w,e.next=51;break;case 50:e.t8=null;case 51:h=e.t8,e.next=67;break;case 54:return T=Object(r.a)({value:Object(N.a)(t)},n),e.next=57,J(o,a,T,g);case 57:if(e.t10=E=e.sent[0],e.t9=null!==e.t10,!e.t9){e.next=61;break}e.t9=void 0!==E;case 61:if(!e.t9){e.next=65;break}e.t11=E,e.next=66;break;case 65:e.t11=null;case 66:h=e.t11;case 67:K(b,h,U)&&(b=h);case 68:v++,e.next=35;break;case 71:return e.abrupt("return",{bestTrade:b,fromTokenAddress:a.tokenAddress,toTokenAddress:n.tokenAddress,amountSpecified:t});case 72:return e.abrupt("return",{bestTrade:null,fromTokenAddress:a.tokenAddress,toTokenAddress:n.tokenAddress,amountSpecified:t});case 73:case"end":return e.stop()}}),e)})));return function(t,a,n,o,r){return e.apply(this,arguments)}}(),K=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:M.b;if(e&&!t)return!1;if(t&&!e)return!0;if(e&&t){if(e.tradeType!==t.tradeType||!e.inputAmount.tokenAddress===t.inputAmount.tokenAddress||!e.outputAmount.tokenAddress===t.outputAmount.tokenAddress)throw new Error("Comparing incomparable trades");return a.eq(M.b)?e.executionPrice.lt(t.executionPrice):e.executionPrice.times(a.plus(M.a)).lt(t.executionPrice)}},z=Object(p.a)((function e(t,a){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:P;Object(l.a)(this,e),this.route=t,this.tradeType=n;var o=new Array(t.path.length);if(n===P){I()(a.tokenAddress===t.input.tokenAddress,"INPUT"),o[0]=a;for(var s=0;s<t.path.length-1;s++){var i=t.pairs[s],c=H(i,i.t0.value);o[s+1]=Object(r.a)(Object(r.a)({},i.t1),{},{value:c.value})}this.inputAmount=Object(r.a)(Object(r.a)({},t.input),{},{inputAmount:t.input.value}),this.outputAmount=Object(r.a)(Object(r.a)({},t.output),{},{numerator:o[o.length-1].numerator,denominator:o[o.length-1].denominator,outputAmount:o[o.length-1].value})}else{I()(a.tokenAddress===t.output.tokenAddress,"OUTPUT"),o[o.length-1]=a;for(var p=t.path.length-1;p>0;p--){var u=t.pairs[p-1],m=q(u,u.t1.value);o[p-1]=Object(r.a)(Object(r.a)({},u.t1),m)}this.inputAmount=Object(r.a)(Object(r.a)({},t.input),{},{numerator:o[0].numerator,denominator:o[0].denominator,inputAmount:o[0].value}),this.outputAmount=Object(r.a)(Object(r.a)({},t.output),{},{numerator:a.numerator,denominator:a.denominator,outputAmount:t.output.value})}this.executionPrice=Object(N.a)(this.outputAmount.outputAmount).div(this.inputAmount.inputAmount),this.priceImpact=Y(t.midPrice,this.inputAmount,this.outputAmount,t.path||[])})),Y=function(e,t,a,n){var o=n.length;if(o>0){var r=Object(N.a)(1).minus(Object(N.a)(o-1).times(.003)),s=Object(N.a)(e).times(a.outputAmount).div(t.inputAmount);return r.minus(s).times(100).abs().times(-1)}return null},G=(a(1482),a(1483)),$=a.n(G),ee=a(1484),te=a.n(ee),ae=(a(1485),a(1486)),ne=a.n(ae),oe=a(262),re=a.n(oe),se=a(1046),ie=a.n(se),ce=a(1511),le=a.n(ce),pe=a(1512),ue=a.n(pe),me=Object(b.b)("network")(n=Object(b.b)("pool")(n=Object(b.c)(n=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).componentWillUnmount=function(){clearInterval(n.timer),clearInterval(n.timer1)},n.isSwapTRX=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=e.tokenAddress,n=t.tokenAddress,o=y.a.trxFakeAddress,r=y.a.wtrxAddress;return a===o&&n===r||a===r&&n===o},n.checkInput=function(){var e=n.props.pool.swapToken.fromToken,t=n.props.pool.swapToken.toToken,a=e.tokenAddress,o=t.tokenAddress,r=n.state.dependentValue,s=Object(N.a)(e.balance),i=(t.balance,function(e){n.setState({actionError:e})}),c=n.state,l=c.fromValue,p=c.toValue,u=c.receivedFlag,m=(c.bestTrade,c.recipientAddr),d=c.swapTRXState;if(n.state.miniError)return i(g.a.get("swap.action_zero"));if(!d)if(m){if(!Object(N.A)(m))return n.setState({recipientValid:!1}),i(g.a.get("swap.action_invalid_recipient"));n.setState({recipientValid:!0})}else if(n.setState({recipientValid:!1}),n.state.addRecipient)return i(g.a.get("swap.action_enter_recipient"));if(!a&&!Object(N.v)("t0")||!o&&!Object(N.v)("t1"))return i(g.a.get("swap.action_select_token"));if(!l)return!u&&p?Object(N.a)(p).lte(0)?i(g.a.get("swap.action_enter_amount")):i(g.a.get("swap.action_insufficient_liquidity")):i(g.a.get("swap.action_enter_amount"));if(Object(N.L)(l).lte(0))return i(g.a.get("swap.action_enter_amount"));if(d&&s&&s.lt(Object(N.L)(l)))return i(g.a.get("swap.action_insufficient",{token:e.tokenSymbol}));if(u){if(!p)return i(g.a.get("swap.action_insufficient_liquidity"));if(s&&s.lt(Object(N.L)(l)))return i(g.a.get("swap.action_insufficient",{token:e.tokenSymbol}));if(Object(N.L)(l).gt(e.approvedAmount))return n.setState({actionError:"",needApprove:!0})}else{if(!d&&s.lt(Object(N.L)(r)))return i(g.a.get("swap.action_insufficient",{token:e.tokenSymbol}));if(!d&&Object(N.a)(r).gt(e.approvedAmount))return n.setState({actionError:"",needApprove:!0})}n.setState({actionError:"",needApprove:!1})},n.onFromValueChange=function(e){var t=e.target.value,a=n.state.toValue;if(t){var o=Object(N.D)(t.replace(/,/g,""),n.props.pool.swapToken.fromToken.tokenDecimal),r=o.valid,s=o.str;if(!r)return;t=s,n.props.pool.swapToken.fromToken.tokenAddress&&n.props.pool.swapToken.toToken.tokenAddress||(a="")}else a="";n.setState({fromValue:Object(N.c)(t),toValue:Object(N.c)(a),receivedFlag:!0},Object(c.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.calcPrice();case 2:n.checkInput();case 3:case"end":return e.stop()}}),e)}))))},n.onToValueChange=function(e){var t=n.state.fromValue,a=e.target.value;if(a){var o=Object(N.D)(a.replace(/,/g,""),n.props.pool.swapToken.toToken.tokenDecimal),r=o.valid,s=o.str;if(!r)return;a=s,n.props.pool.swapToken.fromToken.tokenAddress&&n.props.pool.swapToken.toToken.tokenAddress||(t="")}else t="";n.setState({fromValue:Object(N.c)(t),toValue:Object(N.c)(a),receivedFlag:!1},Object(c.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.calcPrice();case 2:case"end":return e.stop()}}),e)}))))},n.onFromValueBlur=function(){var e=n.state.fromValue;e&&n.setState({fromValue:Object(N.c)(e)})},n.onToValueBlur=function(){var e=n.state.toValue;e&&n.setState({toValue:Object(N.c)(e)})},n.calcPriceTRXSwap=function(e,t){var a=n.state,o=a.receivedFlag,r=a.fromValue,s=a.toValue,i=Object(N.a)(10).pow(e.tokenDecimal),c=Object(N.a)(10).pow(t.tokenDecimal);o?s=Object(N.L)(r).gt(0)?Object(N.L)(r).times(i).div(c)._toFixed(Number(t.tokenDecimal),1):"":r=Object(N.L)(s).gt(0)?Object(N.L)(s).times(c).div(i)._toFixed(Number(e.tokenDecimal),1):"",n.setState({fromValue:Object(N.c)(r),toValue:Object(N.c)(s)},(function(){n.checkInput(),n.calcDependentValue(r,s)}))},n.calcPrice=Object(c.a)(i.a.mark((function e(){var t,a,s,c,l,p,u,m,d,k,f,b,v,g,h,w,A,E,T,S,j,O,x,y,_,C,I,V,F,D,L;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=n.props.pool.swapToken,a=t.fromToken,s=t.toToken,t.pairAddress,c=t.validPairs,l=void 0===c?[]:c,p=n.state,u=p.receivedFlag,m=p.fromValue,d=p.toValue,!(k=n.isSwapTRX(a,s))){e.next=6;break}return e.abrupt("return",n.setState({swapTRXState:k,priceStr:1,priceInverseStr:1},(function(){n.calcPriceTRXSwap(a,s)})));case 6:return n.setState({swapTRXState:!1}),n.state.swapTRXState=!1,f="-",b="-",v=Object(N.a)(10).pow(a.tokenDecimal),g=Object(N.a)(10).pow(s.tokenDecimal),a.value=Object(N.L)(m).times(v),s.value=Object(N.L)(d).times(g),e.next=16,Q(u?Object(N.L)(m).times(v):Object(N.L)(d).times(g),Object(r.a)({},a),Object(r.a)({},s),Object(o.a)(l),u?1:2);case 16:if(h=e.sent,w=h.bestTrade,A=h.fromTokenAddress,E=h.toTokenAddress,T=h.amountSpecified,A!==a.tokenAddress||E!==s.tokenAddress){e.next=40;break}if(!(u&&Object(N.L)(n.state.fromValue).times(v).eq(T)||!u&&Object(N.L)(n.state.toValue).times(g).eq(T))){e.next=39;break}if(n.state.bestTrade=w,n.setState({bestTrade:w}),w){e.next=25;break}return n.initStateData(),e.abrupt("return");case 25:w.tradeType,S=w.inputAmount,j=w.outputAmount,O=w.route,x=w.executionPrice,y=w.priceImpact,_=j.outputAmount,C=S.inputAmount,u?(I=_.div(g)._toFixed(Number(s.tokenDecimal),1),d=Object(N.a)(I).gt(0)?I:""):(V=C.div(v)._toFixed(Number(a.tokenDecimal),1),m=Object(N.a)(V).gt(0)?V:""),f=C.div(_).div(v).times(g),b=x.div(g).times(v),n.calcDependentValue(m,d),F="-",D=Object(N.L)(m),O&&O.path&&O.path.length&&(L=O.path.length,D=D.times(.003).times(L-1),F=D._toFixed(Number(a.tokenDecimal),1)),n.setState({priceStr:f,priceInverseStr:b,fromValue:Object(N.c)(m),toValue:Object(N.c)(d),liquidityProviderFee:F},(function(){n.checkInput()})),n.calcPriceImpact(y),e.next=40;break;case 39:n.checkInput();case 40:e.next=45;break;case 42:e.prev=42,e.t0=e.catch(0),console.error(e.t0);case 45:case"end":return e.stop()}}),e,null,[[0,42]])}))),n.calcDependentValue=function(e,t){var a=n.state.swapTRXState,o=new N.a(n.props.network.settingSlippageV2).div(100),r=new N.a(0),s=y.a.trxDecimal;n.state.receivedFlag?(r=a?Object(N.L)(t):Object(N.L)(t).times(Object(N.a)(1).minus(o)),s=n.props.pool.swapToken.toToken.tokenDecimal):(r=a?Object(N.L)(e):Object(N.L)(e).times(Object(N.a)(1).plus(o)),s=n.props.pool.swapToken.fromToken.tokenDecimal),n.setState({dependentValue:r,dependentValueSunBig:Object(N.a)(r).times(new N.a(10).pow(s))})},n.calcPriceImpact=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"--",t="",a="--";a=Object(N.a)(e).lte(0)&&Object(N.a)(e).gt(-.01)?"0.00%":"".concat(Object(N.a)(e)._toFixed(2),"%"),t=Object(N.a)(e).lte(-15)?"red":Object(N.a)(e).gt(-15)&&Object(N.a)(e).lte(-5)?"orange":"blue",n.setState({priceImpact:a,priceImpactColor:t})},n.setMaxFrom=function(){var e=n.props.pool.swapToken.fromToken,t=Object(N.a)(e.balance);if(Object(N.a)(t).gte(0)){var a=t,o=a.gt(0)?a._toFixed(Number(e.tokenDecimal),1):"0";n.setState({fromValue:Object(N.c)(o),receivedFlag:!0},Object(c.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.calcPrice();case 2:case"end":return e.stop()}}),e)}))))}},n.addSolor=function(e){try{e.tokenDecimal=Number(e.tokenDecimal);var t=n.props.pool.solor,a=void 0===t?[]:t,o=_.findIndex(a,(function(t){return t.tokenAddress===e.tokenAddress}));o>=0?a.splice(o,1,Object(r.a)(Object(r.a)({},e),{},{cst:2})):a.unshift(Object(r.a)(Object(r.a)({},e),{},{cst:2})),n.props.pool.setData({solor:a}),window.localStorage.setItem("solor",JSON.stringify(a))}catch(s){console.log(s)}},n.onFromTokenChange=function(){var e=Object(c.a)(i.a.mark((function e(t){var a,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,a=n.props.pool.swapToken,t.tokenDecimal=Number(t.tokenDecimal),t.tokenAddress!==a.fromToken.tokenAddress){e.next=5;break}return e.abrupt("return");case 5:if(n.props.pool.showModal(1,!1),t.cst&&n.addSolor(t),t.tokenAddress!==a.toToken.tokenAddress){e.next=9;break}return e.abrupt("return",n.switchToken());case 9:(o=n.state.fromValue)&&t.tokenDecimal!=a.fromToken.tokenDecimal&&(o=Object(N.L)(o)._toFixed(Number(t.tokenDecimal),1)),a.fromToken=Object(r.a)({},t),n.props.pool.setData({swapToken:a}),n.setState({fromValue:Object(N.c)(o),needApprove:!1},Object(c.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.props.pool.useAllCurrencyCombinations();case 2:return e.next=4,n.props.pool.getBalanceAndApprove();case 4:return e.next=6,n.calcPrice();case 6:case"end":return e.stop()}}),e)})))),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(0),n.props.pool.showModal(1,!1),console.log(e.t0);case 20:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(t){return e.apply(this,arguments)}}(),n.onToTokenChange=function(){var e=Object(c.a)(i.a.mark((function e(t){var a,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.props.pool.swapToken,t.tokenAddress!==a.toToken.tokenAddress){e.next=3;break}return e.abrupt("return");case 3:if(n.props.pool.showModal(2,!1),t.cst&&n.addSolor(t),e.prev=5,t.tokenAddress!==a.fromToken.tokenAddress){e.next=8;break}return e.abrupt("return",n.switchToken());case 8:t.tokenDecimal=Number(t.tokenDecimal),(o=n.state.toValue)&&t.tokenDecimal!=a.toToken.tokenDecimal&&(o=new N.a(o)._toFixed(Number(t.tokenDecimal),1)),a.toToken=Object(r.a)({},t),n.props.pool.setData({swapToken:a}),n.setState({toValue:o},Object(c.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.props.pool.useAllCurrencyCombinations();case 2:return e.next=4,n.props.pool.getBalanceAndApprove();case 4:return e.next=6,n.calcPrice();case 6:case"end":return e.stop()}}),e)})))),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(5),n.props.pool.showModal(2,!1),console.error(e.t0);case 20:case"end":return e.stop()}}),e,null,[[5,16]])})));return function(t){return e.apply(this,arguments)}}(),n.showAddRecipient=function(){n.setState({addRecipient:!0},(function(){n.checkInput()}))},n.switchPriceInverseFlag=function(){n.setState({priceInverseFlag:!n.state.priceInverseFlag})},n.initStateData=function(){var e=n.state,t=e.receivedFlag,a=e.fromValue,o=e.toValue;t?o="":a="";n.setState({fromValue:Object(N.c)(a),toValue:o,priceStr:"-",priceInverseStr:"-",dependentValue:"",priceImpact:"",priceImpactColor:"",liquidityProviderFee:"",actionError:g.a.get("swap.action_insufficient_liquidity")})},n.switchToken=function(){var e=Object(r.a)({},n.props.pool.swapToken.fromToken),t=Object(r.a)({},n.props.pool.swapToken.toToken);n.props.pool.swapToken.fromToken=t,n.props.pool.swapToken.toToken=e;var a=n.props.pool.swapToken,o=(a.fromToken,a.toToken,n.state),s=o.receivedFlag,l=o.fromValue,p=o.toValue,u=o.priceInverseFlag;s?(p=n.state.fromValue,l=n.state.toValue):(l=n.state.toValue,p=n.state.fromValue),n.setState({priceInverseFlag:!u,receivedFlag:!s,fromValue:l,toValue:p,needApprove:!1},Object(c.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.calcPrice();case 2:return e.next=4,n.props.pool.getBalanceAndApprove();case 4:case"end":return e.stop()}}),e)}))))},n.hideAddRecipient=function(){n.setState({addRecipient:!1,recipientAddr:""},(function(){n.checkInput()}))},n.onRecipientChange=function(e){var t=e.target.value;n.setState({recipientAddr:t},(function(){n.checkInput()}))},n.showSettingModal=function(){n.props.network.setData({settingVisibleV2:!0})},n.initSwapModal=function(){var e=n.state.swapTRXState,t=n.props.pool.swapToken.fromToken,a=n.props.pool.swapToken.toToken,o=!e&&n.state.needApprove,r=n.state.recipientAddr,s=r?g.a.get("swap.action_swapSend"):g.a.get("swap.action_swap"),i=["orange","red"].includes(n.state.priceImpactColor)?g.a.get("swap.action_swapStill"):r?g.a.get("swap.confirm_swapSend"):g.a.get("swap.confirm_swap"),c=r?g.a.get("action.swapSendAct",{from:t.tokenSymbol,to:a.tokenSymbol}):g.a.get("action.swapAct",{from:t.tokenSymbol,to:a.tokenSymbol}),l=r?g.a.get("action.swapSendActErr"):g.a.get("action.swapActErr");return{swapPopTitle:s,swapPopBtn:i,swapPopBtnDisabled:!1,swapErrorInfo:"",approveActionTitle:g.a.get("action.approveAct",{token:t.tokenSymbol}),approveActionError:g.a.get("action.approveActErr"),approveActionState:"",swapActionTitle:c,swapActionError:l,swapActionState:"",actionInfo:g.a.get("action.startBtn"),actionDisabled:!0,actionRetry:"",actionState:o?"line":"info",actionStarted:!1,successFromValue:"",successToValue:"",miniPopVisible:!1}},n.showSwapModal=function(){n.setState(Object(r.a)(Object(r.a)({},n.initSwapModal()),{},{swapVisible:!0}),(function(){n.onRetryAction()}))},n.beforeHideSwapModal=function(){n.state.actionStarted?n.setState({miniPopVisible:!0}):n.hideSwapModal()},n.hideSwapModal=function(){n.setState({swapVisible:!1},(function(){setTimeout((function(){n.setState(Object(r.a)({},n.initSwapModal()))}),1e3)}))},n.approveToken=Object(c.a)(i.a.mark((function e(){var t,a,o,r,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.props.pool.swapToken,a=t.fromToken,o=t.toToken,!(a&&o&&(a.tokenAddress===y.a.trxFakeAddress&&o.tokenAddress===y.a.wtrxAddress||o.tokenAddress===y.a.trxFakeAddress&&a.tokenAddress===y.a.wtrxAddress))){e.next=3;break}return e.abrupt("return");case 3:return r=n.props.pool.swapToken.fromToken.tokenAddress,s=y.a.v2Contract.router,e.next=7,Object(D.e)(r,s,{title:"swap.pop_title_approve",obj:{token:n.props.pool.swapToken.fromToken.tokenSymbol}});case 7:e.sent?n.setState({approveActionState:"pending",actionInfo:g.a.get("action.doingBtn"),actionDisabled:!0,actionStarted:!0,needApprove:!1},(function(){setTimeout((function(){n.setState({approveActionState:"success",actionState:"info"})}),5e3)})):n.setState({approveActionState:"error",actionRetry:"approveToken",actionInfo:g.a.get("action.retryBtn"),actionDisabled:!1,actionStarted:!0});case 9:case"end":return e.stop()}}),e)}))),n.beforeSwapToken=Object(c.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.setState({actionStarted:!0,swapPopBtn:g.a.get("action.startBtn"),swapPopBtnDisabled:!0},(function(){n.swapToken()}));case 1:case"end":return e.stop()}}),e)}))),n.getSwapFuncType=function(e,t){var a=n.state,o=a.receivedFlag;return a.swapTRXState?e.tokenAddress===y.a.trxFakeAddress?"deposit":"withdraw":o?e.tokenAddress===y.a.trxFakeAddress?"swapExactETHForTokens":t.tokenAddress===y.a.trxFakeAddress?"swapExactTokensForETH":"swapExactTokensForTokens":e.tokenAddress===y.a.trxFakeAddress?"swapETHForExactTokens":t.tokenAddress===y.a.trxFakeAddress?"swapTokensForExactETH":"swapTokensForExactTokens"},n.swapToken=Object(c.a)(i.a.mark((function e(){var t,a,o,r,s,l,p,u,m,d,k,f,b,v,h,w,A,E,T,S;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.props.pool.swapToken.fromToken,a=n.props.pool.swapToken.toToken,o=n.state.fromValue,r=n.state.toValue,s=n.state.recipientAddr,l=n.state,p=l.swapTRXState,u=l.dependentValueSunBig,m=!p&&n.state.needApprove,d=o,k=r,f="",b={title:s&&!p?"swap.pop_title_swap_send":"swap.pop_title_swap",obj:{from:"".concat(Object(N.n)(Object(N.L)(o),t.tokenDecimal)," ").concat(t.tokenSymbol),to:"".concat(Object(N.n)(Object(N.L)(r),a.tokenDecimal)," ").concat(a.tokenSymbol),addr:p?window.defaultAccount:s}},v=n.state.bestTrade,h=n.getSwapFuncType(t,a,v),!p){e.next=19;break}return e.next=16,D.D[h]({amountIn:Object(N.L)(o).times(Object(N.a)(10).pow(t.tokenDecimal))._toIntegerDown()._toHex(),amountOut:Object(N.L)(r).times(Object(N.a)(10).pow(a.tokenDecimal))._toIntegerDown()._toHex(),intlObj:b});case 16:f=e.sent,e.next=37;break;case 19:return w=n.state.bestTrade.route,A=w.path||[],E=A.map((function(e){return e.tokenAddress===y.a.trxFakeAddress?y.a.wtrxAddress:e.tokenAddress})),e.t0=D.D,e.t1=h,e.t2=Object(N.L)(o).times(Object(N.a)(10).pow(t.tokenDecimal))._toIntegerDown()._toHex(),e.t3=Object(N.L)(r).times(Object(N.a)(10).pow(a.tokenDecimal))._toIntegerDown()._toHex(),e.t4=Object(N.a)(u)._toIntegerDown()._toHex(),e.next=29,Object(D.g)(n.props.network.settingDeadlineV2);case 29:return e.t5=e.sent,e.t6=s||window.defaultAccount,e.t7=E,e.t8=b,e.t9={amountIn:e.t2,amountOut:e.t3,dependentValueSunBig:e.t4,deadline:e.t5,to:e.t6,path:e.t7,intlObj:e.t8},e.next=36,e.t0[e.t1].call(e.t0,e.t9);case 36:f=e.sent;case 37:f?(T={swapErrorInfo:"",swapPopBtn:g.a.get("action.doingBtn"),swapPopBtnDisabled:!0,actionStarted:!0},m&&!p&&(T={actionInfo:g.a.get("action.doingBtn"),actionDisabled:!0,swapActionState:"pending",actionState:"line",actionStarted:!0}),n.setState(T,(function(){setTimeout(Object(c.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.setState({fromValue:"",toValue:"",successFromValue:d,successToValue:k,actionRetry:"",actionState:"success",actionStarted:!1}),e.next=3,n.props.pool.getBalanceAndApprove();case 3:return e.next=5,n.calcPrice();case 5:case"end":return e.stop()}}),e)}))),5e3)}))):(S={swapErrorInfo:s?g.a.get("action.swapSendActErr"):g.a.get("action.swapActErr"),swapPopBtn:g.a.get("action.retryBtn"),swapPopBtnDisabled:!1,actionStarted:!0},m&&(S={actionState:"line",swapActionState:"error",actionRetry:"swapToken",actionInfo:g.a.get("action.retryBtn"),actionDisabled:!1,actionStarted:!0}),n.setState(S));case 38:case"end":return e.stop()}}),e)}))),n.onRetryAction=function(){var e=n.state,t=e.actionRetry,a=e.needApprove;switch(e.swapTRXState&&(a=!1),!t&&a&&(t="approveToken"),t){case"approveToken":n.setState({approveActionState:"start",actionInfo:g.a.get("action.startBtn"),actionDisabled:!0},(function(){n.approveToken()}));break;case"swapToken":n.setState({swapActionState:"start",actionInfo:g.a.get("action.startBtn"),actionDisabled:!0},(function(){n.swapToken()}))}},n.miniPopOk=function(){var e=n.state.needApprove;n.setState({miniPopVisible:!1},Object(c.a)(i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.hideSwapModal(),!e){t.next=4;break}return t.next=4,n.props.pool.getBalanceAndApprove();case 4:case"end":return t.stop()}}),t)}))))},n.miniPopCancel=function(){n.setState({miniPopVisible:!1})},n.transRouteRender=function(){var e=n.state.bestTrade,t=(void 0===e?{}:e).route.path||[],a=t.length;return k.a.createElement("div",{className:"tr-content"},k.a.createElement("p",null,k.a.createElement("img",{src:ue.a}),k.a.createElement("span",null,g.a.get("migrate.trans_route"))),k.a.createElement("div",null,k.a.createElement("ul",{className:a<=2?"jcc":""},t.map((function(e,a){return k.a.createElement("li",{key:e.tokenAddress},k.a.createElement("div",null,k.a.createElement("img",{src:e.tokenLogoUrl||re.a}),k.a.createElement("span",null,k.a.createElement("span",{className:"token"},null===e||void 0===e?void 0:e.tokenSymbol),a!=t.length-1&&k.a.createElement("span",null,"-0.3%"))),a!=t.length-1&&k.a.createElement("span",{className:"tr-arrow"}))})))))},n.useSafeMax=function(e){var t=n.props.pool.swapToken,a=t.fromToken,o=t.toToken;if("from"===e){var r=Object(N.c)(Object(N.L)(a.balance).minus(y.a.swapFeeAmountV2));n.setState({fromValue:r,receivedFlag:!0},Object(c.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.calcPrice();case 2:case"end":return e.stop()}}),e)}))))}else if("to"===e){var s=Object(N.c)(Object(N.L)(o.balance).minus(y.a.swapFeeAmountV2));n.setState({toValue:s},Object(c.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.calcPrice();case 2:case"end":return e.stop()}}),e)}))))}},n.timer=0,n.timer1=0,n.swapFuncType="",n.state={swapTRXState:!1,bestTrade:null,fromValue:"",toValue:"",priceStr:"-",priceInverseStr:"-",priceInverseFlag:!1,dependentValueSunBig:"",dependentValue:"",priceImpact:"",priceImpactColor:"",liquidityProviderFee:"",receivedFlag:!0,addRecipient:!1,recipientAddr:"",recipientValid:!1,needApprove:!0,actionError:g.a.get("swap.action_enter_amount"),swapInfo:g.a.get("swap.action_swap"),swapVisible:!1,priceChartVisible:!1,swapPopTitle:"",swapPopBtn:"",swapPopBtnDisabled:!1,swapErrorInfo:"",approveActionTitle:"",approveActionError:"",approveActionState:"",swapActionTitle:"",swapActionError:"",swapActionState:"",actionInfo:"",actionDisabled:!1,actionRetry:"",actionState:"",actionStarted:!1,successFromValue:"",successToValue:"",miniPopVisible:!1,betterPrice:!1,notCreatedOfNew:!1,transRouteArr:[{symbol:"trx"},{symbol:"btt"},{symbol:"wbtt"},{symbol:"sunold"},{symbol:"nft"},{symbol:"usdj"}]},n}return Object(p.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.pool.getBalanceAndApprove(),this.timer=setInterval((function(){e.props.pool.getBalanceAndApprove()}),6e3),this.timer1=setInterval((function(){e.props.pool.getReservesAll()}),3e3),this.checkInput()}},{key:"render",value:function(){var e=this,t=this.props.pool,a=t.swapToken,n=t.modalVisibleInfo,o=a.fromToken,r=a.toToken,s=this.state,i=s.priceStr,c=s.priceInverseStr,l=s.dependentValue,p=s.swapTRXState,u=s.bestTrade;return k.a.createElement(h.a,{className:"swap-content"},k.a.createElement("div",{className:"flex justify-content swap-block"},k.a.createElement("div",{className:"left-block"},k.a.createElement("div",null,g.a.get("swap.input_from")+(this.state.receivedFlag?"":g.a.get("swap.input_estimated"))),k.a.createElement("div",{className:"flex input-number"},k.a.createElement("input",{value:this.state.fromValue,onChange:this.onFromValueChange,onBlur:this.onFromValueBlur,placeholder:g.a.get("swap.input_placeholder")}))),k.a.createElement("div",{className:"right-block"},k.a.createElement("div",null,g.a.get("swap.input_from_balance")," ",k.a.createElement("span",null,Object(N.o)(o.balance,{dp:6,cutZero:!0}))),k.a.createElement("div",{className:"flex flex-end"},this.props.network.isConnected?k.a.createElement("span",{className:"link",onClick:this.setMaxFrom},g.a.get("swap.input_from_max")):null,k.a.createElement(E.a,{showModal:function(){e.props.pool.showModal(1)},token:o}),k.a.createElement(S.a,{modalVisible:n.visible1,onCancel:function(){return e.props.pool.showModal(1,!1)},type:1,onChangeToken:function(t){e.onFromTokenChange(t)}})))),k.a.createElement("div",{className:"flex justify-content rates"},k.a.createElement("div",{className:"word-break"},g.a.get("swap.input_from_price")),k.a.createElement("div",{className:"flex ai-center between"},o.tokenAddress&&r.tokenAddress?k.a.createElement(k.a.Fragment,null,k.a.createElement("span",{className:"swap-token"},this.state.priceInverseFlag?g.a.get("swap.input_from_per",{toToken:o.tokenSymbol,price:Object(N.o)(c,{miniText:y.a.minPrice,miniTextNoZero:!0,separator:!1,dp:r.tokenDecimal,cutZero:!0}),fromToken:r.tokenSymbol}):g.a.get("swap.input_from_per",{toToken:this.props.pool.swapToken.toToken.tokenSymbol,price:Object(N.o)(i,{miniText:y.a.minPrice,miniTextNoZero:!0,separator:!1,dp:o.tokenDecimal,cutZero:!0}),fromToken:this.props.pool.swapToken.fromToken.tokenSymbol})),k.a.createElement("img",{src:$.a,alt:"",onClick:this.switchPriceInverseFlag})):k.a.createElement("div",null,"--"))),"TRX"===o.tokenSymbol&&this.state.fromValue?Object(N.L)(o.balance).lt(y.a.swapFeeAmountV2)?k.a.createElement("div",{className:"safe-amount-tip safe-amount"},g.a.getHTML("list.trx_tip_3",{value:y.a.swapFeeAmountV2})):Object(N.L)(o.balance).minus(y.a.swapFeeAmountV2).lt(Object(N.L)(this.state.fromValue))?k.a.createElement("div",{className:"safe-amount-tip safe-amount"},g.a.getHTML("list.trx_tip_1",{value:y.a.swapFeeAmountV2})," ",k.a.createElement("em",{onClick:function(){return e.useSafeMax("from")}},g.a.get("list.trx_tip_2"))):null:null,k.a.createElement("div",{className:"flex justify-content setting"},k.a.createElement("img",{src:te.a,className:"arrDown",alt:"",onClick:this.switchToken}),!p&&k.a.createElement("span",{className:"link",onClick:this.showSettingModal},g.a.get("swap.settings_title"))),k.a.createElement("div",{className:"flex justify-content swap-block"},k.a.createElement("div",{className:"left-block"},k.a.createElement("div",null,g.a.get("swap.input_to")+(this.state.receivedFlag?g.a.get("swap.input_estimated"):"")),k.a.createElement("div",{className:"flex input-number"},k.a.createElement("input",{value:this.state.toValue,onChange:this.onToValueChange,onBlur:this.onToValueBlur,placeholder:g.a.get("swap.input_placeholder")}))),k.a.createElement("div",{className:"right-block"},k.a.createElement("div",null,g.a.get("swap.input_to_balance")," ",k.a.createElement("span",null,Object(N.o)(r.balance,{dp:6,cutZero:!0}))),k.a.createElement(E.a,{showModal:function(){e.props.pool.showModal(2)},token:r}),k.a.createElement(S.a,{modalVisible:n.visible2,onCancel:function(){return e.props.pool.showModal(2,!1)},type:2,onChangeToken:function(t){e.onToTokenChange(t)}}))),"TRX"===r.tokenSymbol&&this.state.toValue&&Object(N.L)(r.balance).lt(y.a.swapFeeAmountV2)?k.a.createElement("div",{className:"safe-amount-tip safe-amount"},g.a.getHTML("list.trx_tip_3",{value:y.a.swapFeeAmountV2})):null,!p&&k.a.createElement(k.a.Fragment,null,this.state.addRecipient?k.a.createElement(k.a.Fragment,null,k.a.createElement("div",{className:"flex justify-content add-recipient"},k.a.createElement("img",{src:te.a,alt:""}),k.a.createElement("span",{className:"link",onClick:this.hideAddRecipient},g.a.get("swap.input_remove_recipient"))),k.a.createElement("div",{className:"recipient-list"},k.a.createElement("div",{className:"flex"},k.a.createElement("div",null,g.a.get("swap.input_recipient")),this.state.recipientAddr&&this.state.recipientValid?k.a.createElement("a",{className:"link",href:"".concat(y.a.tronscanUrl,"/address/").concat(this.state.recipientAddr),target:"_blank"},g.a.get("swap.input_recipient_tronscan")):null),k.a.createElement("input",{value:this.state.recipientAddr,onChange:this.onRecipientChange,placeholder:g.a.get("swap.input_recipient_placeholder")}))):k.a.createElement("div",{className:"add-recipient-btn new-recipient"},this.state.fromValue&&this.state.toValue&&u&&u.route&&u.route.path.length>0?k.a.createElement("div",{className:"flex trans-route"},k.a.createElement(w.a,{title:this.transRouteRender(),overlayClassName:"tr-tooltip",placement:Object(f.a)(window.navigator).any?"bottomLeft":"bottom",color:"rgba(27,31,38,0.90)",arrowPointAtCenter:!0},k.a.createElement("img",{src:le.a}),g.a.get("migrate.trans_route"))):k.a.createElement("span",null),k.a.createElement("span",{className:"link",onClick:this.showAddRecipient},g.a.get("swap.input_add_recipient")))),k.a.createElement("div",{className:"flex justify-content detail-item token-info align-items-center"},k.a.createElement("div",{className:"token-pairs"},k.a.createElement("div",null,this.state.addRecipient&&u&&u.route&&u.route.path.length>0&&k.a.createElement("div",{className:"flex trans-route",style:{marginBottom:"10px"}},k.a.createElement(w.a,{title:this.transRouteRender(),overlayClassName:"tr-tooltip",placement:Object(f.a)(window.navigator).any?"bottomLeft":"bottom",color:"rgba(27,31,38,0.90)",arrowPointAtCenter:!0},k.a.createElement("img",{src:le.a})),g.a.get("migrate.trans_route"))),k.a.createElement("div",null,g.a.get("swap.detail_token_info")," "),k.a.createElement("div",null,this.props.pool.swapToken.fromToken.tokenAddress?this.props.pool.swapToken.fromToken.tokenAddress===y.a.trxFakeAddress?k.a.createElement(k.a.Fragment,null,!Object(f.a)(window.navigator).any&&k.a.createElement("img",{src:this.props.pool.swapToken.fromToken.tokenLogoUrl,alt:"logo",onError:function(e){e.target.onerror=null,e.target.src=re.a}}),k.a.createElement("span",{className:"trx"},this.props.pool.swapToken.fromToken.tokenSymbol)):k.a.createElement(k.a.Fragment,null,Object(N.O)(k.a.createElement(k.a.Fragment,null,!Object(f.a)(window.navigator).any&&k.a.createElement("img",{src:this.props.pool.swapToken.fromToken.tokenLogoUrl,alt:"logo",onError:function(e){e.target.onerror=null,e.target.src=re.a}}),k.a.createElement("span",null,this.props.pool.swapToken.fromToken.tokenSymbol)),this.props.pool.swapToken.fromToken.tokenAddress)):k.a.createElement("span",null,"-"),k.a.createElement("span",null,"\xa0\xa0"),this.props.pool.swapToken.toToken.tokenAddress?this.props.pool.swapToken.toToken.tokenAddress===y.a.trxFakeAddress?k.a.createElement(k.a.Fragment,null,!Object(f.a)(window.navigator).any&&k.a.createElement("img",{src:this.props.pool.swapToken.toToken.tokenLogoUrl,alt:"logo",onError:function(e){e.target.onerror=null,e.target.src=re.a}}),k.a.createElement("span",{className:"trx"},this.props.pool.swapToken.toToken.tokenSymbol)):k.a.createElement(k.a.Fragment,null,Object(N.O)(k.a.createElement(k.a.Fragment,null,!Object(f.a)(window.navigator).any&&k.a.createElement("img",{src:this.props.pool.swapToken.toToken.tokenLogoUrl,alt:"logo",onError:function(e){e.target.onerror=null,e.target.src=re.a}}),k.a.createElement("span",null,this.props.pool.swapToken.toToken.tokenSymbol)),this.props.pool.swapToken.toToken.tokenAddress)):k.a.createElement("span",null,"-")))),!p&&k.a.createElement(k.a.Fragment,null,"0.5"!=this.props.network.settingSlippageV2?k.a.createElement("div",{className:"flex justify-content detail-item slippage"},k.a.createElement("div",null,g.a.get("swap.detail_slippage")," "),k.a.createElement("div",null,(Object(N.a)(this.props.network.settingSlippageV2).lt(.01)?"<0.01":this.props.network.settingSlippageV2)+"%")):null),!p&&this.state.fromValue&&this.state.toValue&&this.props.pool.swapToken.fromToken.tokenAddress&&this.props.pool.swapToken.toToken.tokenAddress?k.a.createElement("div",null,k.a.createElement("div",{className:"flex justify-content detail-item"},this.state.receivedFlag?k.a.createElement(k.a.Fragment,null,k.a.createElement(T.a,{tip:g.a.get("swap.detail_min_received_tip"),left:!0},g.a.get("swap.detail_min_received")),k.a.createElement("span",null,Object(N.o)(l,{dp:r.tokenDecimal})+" "+r.tokenSymbol)):k.a.createElement(k.a.Fragment,null,k.a.createElement(T.a,{tip:g.a.get("swap.detail_max_sold_tip"),left:!0},g.a.get("swap.detail_max_sold")),k.a.createElement("span",null,Object(N.o)(l,{dp:o.tokenDecimal})+" "+this.props.pool.swapToken.fromToken.tokenSymbol))),k.a.createElement("div",{className:"flex justify-content detail-item"},k.a.createElement(T.a,{tip:g.a.get("swap.detail_price_impact_tip"),left:!0},g.a.get("swap.detail_price_impact")),k.a.createElement("span",{className:["orange","red"].includes(this.state.priceImpactColor)?this.state.priceImpactColor:"normal"},this.state.priceImpact.indexOf("NaN")>-1?"--":this.state.priceImpact)),k.a.createElement("div",{className:"flex justify-content detail-item"},k.a.createElement(T.a,{tip:g.a.getHTML("swap.detail_liquidity_fee_tip_v2"),left:!0},g.a.get("swap.detail_liquidity_fee")),k.a.createElement("span",null,this.state.liquidityProviderFee+" "+this.props.pool.swapToken.fromToken.tokenSymbol))):null,k.a.createElement("div",{className:"action-btns"},this.props.network.isConnected?k.a.createElement(k.a.Fragment,null,this.state.actionError?k.a.createElement(j.a,{type:"single",disabled:!0,info:this.state.actionError}):k.a.createElement(j.a,{type:"single",btnColor:this.state.priceImpactColor,info:"red"===this.state.priceImpactColor?g.a.get("swap.action_high"):this.state.swapInfo,onClick:this.showSwapModal})):k.a.createElement(j.a,{type:"single",info:g.a.get("swap.action_connect"),onClick:function(){e.props.network.connectWallet()}})),k.a.createElement(A.a,{title:null,closable:"success"!==this.state.actionState,visible:this.state.swapVisible,onCancel:this.beforeHideSwapModal,footer:null,className:"confirm-swap-modal",style:{marginLeft:Object(N.t)()},width:630,centered:!0},"line"===this.state.actionState&&k.a.createElement(k.a.Fragment,null,k.a.createElement("div",{className:"title big"},this.state.swapPopTitle),k.a.createElement("div",{className:"ib-parent center trans-modal amount"},k.a.createElement("div",{className:"from"},k.a.createElement("div",{className:"from-value"},this.state.fromValue),k.a.createElement("div",{className:"from-token"},this.props.pool.swapToken.fromToken.tokenSymbol)),k.a.createElement("img",{src:ne.a,alt:"",className:"plus w10"}),k.a.createElement("div",{className:"to"},k.a.createElement("div",{className:"to-value"},this.state.toValue),k.a.createElement("div",{className:"to-token"},this.props.pool.swapToken.toToken.tokenSymbol)),this.state.recipientAddr&&k.a.createElement("div",{className:"recipient"},g.a.get("swap.recipient"),this.state.recipientAddr)),k.a.createElement("div",{className:"middleTip"},this.state.recipientAddr?g.a.get("action.swapSendLineTitle"):g.a.get("action.swapLineTitle")),k.a.createElement(O.a,null,k.a.createElement("span",{status:this.state.approveActionState,err:this.state.approveActionError},this.state.approveActionTitle),k.a.createElement("span",{status:this.state.swapActionState,err:this.state.swapActionError},this.state.swapActionTitle)),k.a.createElement(j.a,{type:"single",disabled:this.state.actionDisabled,info:this.state.actionInfo,onClick:this.onRetryAction})),"info"===this.state.actionState&&k.a.createElement(k.a.Fragment,null,k.a.createElement("div",{className:"title big"},this.state.swapPopTitle),k.a.createElement("div",{className:"ib-parent center tokens amount"},k.a.createElement("div",{className:"from"},k.a.createElement("div",{className:"from-value"},this.state.fromValue),k.a.createElement("div",{className:"from-token"},k.a.createElement("img",{src:this.props.pool.swapToken.fromToken.tokenLogoUrl,alt:""}),k.a.createElement("span",null,this.props.pool.swapToken.fromToken.tokenSymbol))),k.a.createElement("img",{src:ne.a,alt:"",className:"plus w10"}),k.a.createElement("div",{className:"to"},k.a.createElement("div",{className:"to-value"},this.state.toValue),k.a.createElement("div",{className:"to-token"},k.a.createElement("img",{src:this.props.pool.swapToken.toToken.tokenLogoUrl,alt:""}),k.a.createElement("span",null,this.props.pool.swapToken.toToken.tokenSymbol))),this.state.recipientAddr&&!p&&k.a.createElement("div",{className:"recipient"},g.a.get("swap.recipient"),this.state.recipientAddr)),k.a.createElement("div",{className:"flex justify-content price"},k.a.createElement("div",{className:""},g.a.get("swap.input_from_price")),k.a.createElement("div",{className:"right"},k.a.createElement("div",null,"1 ".concat(this.props.pool.swapToken.toToken.tokenSymbol," =\n                    ").concat(Object(N.o)(this.state.priceStr,{dp:this.props.pool.swapToken.fromToken.tokenDecimal,cutZero:!0,miniTextNoZero:!0,miniText:y.a.minPrice}),"\n                    ").concat(this.props.pool.swapToken.fromToken.tokenSymbol," ")),k.a.createElement("div",{className:"mt3"},"1 ".concat(this.props.pool.swapToken.fromToken.tokenSymbol," =\n                    ").concat(Object(N.o)(this.state.priceInverseStr,{dp:this.props.pool.swapToken.toToken.tokenDecimal,cutZero:!0,miniTextNoZero:!0,miniText:y.a.minPrice}),"\n                    ").concat(this.props.pool.swapToken.toToken.tokenSymbol," ")))),"0.5"!=this.props.network.settingSlippageV2?k.a.createElement("div",{className:"flex justify-content detail-slippage"},k.a.createElement("div",null,g.a.get("swap.detail_slippage")," "),k.a.createElement("div",null,(Object(N.a)(this.props.network.settingSlippageV2).lt(.01)?"<0.01":this.props.network.settingSlippageV2)+"%")):null,!p&&k.a.createElement("div",{className:"detail-list"},k.a.createElement("div",{className:"flex justify-content detail-item"},this.state.receivedFlag?k.a.createElement(k.a.Fragment,null,k.a.createElement(T.a,{tip:g.a.get("swap.detail_min_received_tip"),left:!0},g.a.get("swap.detail_min_received")),k.a.createElement("span",{className:"right"},Object(N.o)(l,{dp:r.tokenDecimal})+" "+this.props.pool.swapToken.toToken.tokenSymbol)):k.a.createElement(k.a.Fragment,null,k.a.createElement(T.a,{tip:g.a.get("swap.detail_max_sold_tip"),left:!0},g.a.get("swap.detail_max_sold")),k.a.createElement("span",{className:"right"},Object(N.o)(l,{dp:o.tokenDecimal})+" "+this.props.pool.swapToken.fromToken.tokenSymbol))),k.a.createElement("div",{className:"flex justify-content detail-item"},k.a.createElement(T.a,{tip:g.a.get("swap.detail_price_impact_tip"),left:!0},g.a.get("swap.detail_price_impact")),k.a.createElement("span",{className:"right "+(["orange","red"].includes(this.state.priceImpactColor)?this.state.priceImpactColor:"normal")},this.state.priceImpact.indexOf("NaN")>-1?"--":this.state.priceImpact)),k.a.createElement("div",{className:"flex justify-content detail-item"},k.a.createElement(T.a,{tip:g.a.getHTML("swap.detail_liquidity_fee_tip_v2"),left:!0},g.a.get("swap.detail_liquidity_fee")),k.a.createElement("span",{className:"right"},this.state.liquidityProviderFee+" "+this.props.pool.swapToken.fromToken.tokenSymbol))),k.a.createElement("div",{className:"warning"},this.state.receivedFlag?k.a.createElement("div",null,g.a.get("swap.confirm_warning_output",{amount:Object(N.o)(l,{dp:r.tokenDecimal}),token:this.props.pool.swapToken.toToken.tokenSymbol})):k.a.createElement("div",null,g.a.get("swap.confirm_warning_input",{amount:Object(N.o)(l,{dp:o.tokenDecimal}),token:this.props.pool.swapToken.fromToken.tokenSymbol}))),this.state.swapErrorInfo&&k.a.createElement("div",{className:"errorMsg"},this.state.swapErrorInfo),k.a.createElement(j.a,{type:"single",btnColor:this.state.priceImpactColor,disabled:this.state.swapPopBtnDisabled,info:this.state.swapPopBtn,onClick:this.beforeSwapToken})),"success"===this.state.actionState&&k.a.createElement(k.a.Fragment,null,k.a.createElement("div",{className:"modal-success"},k.a.createElement("img",{src:ie.a,alt:""}),this.state.recipientAddr?k.a.createElement("div",{className:"title green"},g.a.get("action.swapSendSuccessTitle")):k.a.createElement("div",{className:"title green"},g.a.get("action.swapSuccessTitle")),k.a.createElement("div",{className:"ib-parent center trans-modal mb25"},k.a.createElement("div",{className:"from"},k.a.createElement("div",{className:"from-value"},this.state.successFromValue),k.a.createElement("div",{className:"from-token"},this.props.pool.swapToken.fromToken.tokenSymbol)),k.a.createElement("img",{src:ne.a,alt:"",className:"plus w10"}),k.a.createElement("div",{className:"to"},k.a.createElement("div",{className:"to-value"},this.state.successToValue),k.a.createElement("div",{className:"to-token"},this.props.pool.swapToken.toToken.tokenSymbol)),this.state.recipientAddr&&k.a.createElement("div",{className:"recipient"},g.a.get("swap.recipient"),Object(N.l)(this.state.recipientAddr))),k.a.createElement(j.a,{type:"single",info:g.a.get("action.closeBtn"),onClick:this.hideSwapModal}),this.state.recipientAddr?k.a.createElement("div",{className:"endTip"},g.a.get("action.swapSendDescTitle")):k.a.createElement("div",{className:"endTip"},g.a.get("action.swapDescTitle"))))),k.a.createElement(x.a,{visible:this.state.miniPopVisible,confirm:this.miniPopOk,cancel:this.miniPopCancel}))}}]),a}(k.a.Component))||n)||n)||n;t.a=me},1526:function(e,t,a){"use strict";var n=a(1505),o=a(1500),r=n.e;r.Header=n.c,r.Footer=n.b,r.Content=n.a,r.Sider=o.b,t.a=r},1545:function(e,t,a){"use strict";a.r(t);var n,o=a(6),r=a(7),s=a(10),i=a(11),c=a(1),l=a.n(c),p=a(217),u=a(1523),m=Object(p.b)("network")(n=Object(p.c)(n=function(e){Object(s.a)(a,e);var t=Object(i.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(u.a,null))}}]),a}(l.a.Component))||n)||n;t.default=m},967:function(e,t,a){"use strict";var n=a(6),o=a(7),r=a(10),s=a(11),i=a(1),c=a.n(i),l=(a(29),a(170),a(1148),function(e){Object(r.a)(a,e);var t=Object(s.a)(a);function a(e){var o;return Object(n.a)(this,a),(o=t.call(this,e)).onClick=function(){o.props.disabled||o.props.state||o.props.onClick&&o.props.onClick()},o.onLeftClick=function(){o.props.lDisabled||o.props.lState||o.props.onLeftClick&&o.props.onLeftClick()},o.onMiddleClick=function(){o.props.mDisabled||o.props.mState||o.props.onMiddleClick&&o.props.onMiddleClick()},o.onRightClick=function(){o.props.rDisabled||o.props.rState||o.props.onRightClick&&o.props.onRightClick()},o.state={},o}return Object(o.a)(a,[{key:"render",value:function(){var e=null;switch(this.props.type){case"trisection":e=c.a.createElement("div",null,c.a.createElement("button",{className:"trisection "+(this.props.lDisabled?"gray":this.props.lState?this.props.lState:"blue"),onClick:this.onLeftClick},this.props.lInfo),c.a.createElement("button",{className:"trisection "+(this.props.mDisabled?"gray":this.props.mState?this.props.mState:"blue"),onClick:this.onMiddleClick},this.props.mInfo),c.a.createElement("button",{className:"trisection "+(this.props.rDisabled?"gray":this.props.rState?this.props.rState:"blue"),onClick:this.onRightClick},this.props.rInfo));break;case"half":e=c.a.createElement("div",null,c.a.createElement("button",{className:"half "+(this.props.lDisabled?"gray":this.props.lState?this.props.lState:"blue"),onClick:this.onLeftClick},this.props.lInfo),c.a.createElement("button",{className:"half "+(this.props.rDisabled?"gray":this.props.rState?this.props.rState:"blue"),onClick:this.onRightClick},this.props.rInfo));break;case"single":default:e=c.a.createElement("button",{className:"single "+(this.props.disabled?"gray":this.props.state?this.props.state:this.props.btnColor?this.props.btnColor:"blue"),onClick:this.onClick},this.props.info)}return c.a.createElement(c.a.Fragment,null,e)}}]),a}(c.a.Component));t.a=l}}]);